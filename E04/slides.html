<!DOCTYPE html>
<html lang="en"><head>
<script src="slides_files/libs/clipboard/clipboard.min.js"></script>
<script src="slides_files/libs/quarto-html/tabby.min.js"></script>
<script src="slides_files/libs/quarto-html/popper.min.js"></script>
<script src="slides_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="slides_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="slides_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="slides_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.326">

  <title>Regresión Poisson</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="slides_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="slides_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Regresión Poisson</h1>
  <p class="subtitle">Modelo Lineal Generalizado</p>

<div class="quarto-title-authors">
</div>

</section>
<section>
<section id="contenido" class="title-slide slide level1 smaller center">
<h1>Contenido</h1>
<aside class="notes">
<p>Hablarémos inicialmente de los modelos de regresión lineal, para luego introducir los modelos lineales generalizados y posteriormente hablar de la regresión Poisson. Vamos hacerlo de manera teórica, haciendo enfasis en los componentes sistemáticos y aleatorios que componen estos modelos, y de manera práctica, utilizando ejemplos con su aplicación en R.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<ol type="1">
<li>Modelos de Regresión Lineal</li>
<li>Modelos Lineales Generalizados</li>
<li>GLMs Poisson</li>
<li>Regresión Poisson</li>
<li>Conclusiones</li>
<li>Referencias</li>
</ol>
</section>
<section id="modelos-de-regresión-lineal" class="slide level2 smaller">
<h2>Modelos de Regresión Lineal</h2>
<blockquote>
<p><strong>Teoría</strong></p>
</blockquote>
<aside class="notes">
<p>Antes de entrar a hablar de que son los Modelos Lineales Generalizados, es importante mencionar qué es un modelo de Regresión Lineal y de qué está compuesto. En terminos generales, un modelo estadístico consta de un <strong>componente aleatorio</strong> y un <strong>componente sistemático</strong>. El componente aleatorio se refiere a la variabilidad en los datos, mientras que el componente sistemático se refiere a la relación entre las variables independientes y la variable dependiente.</p>
<p>En los terminos de la notación utilizada por Dunn y Smyth (2018) en su libro <em>“Generalized Linear Models with Examples in R”</em>, el <strong>componente sistemático</strong> en estos modelos, asume que el valor esperado de la variable dependiente depende de p variables independientes a través de una función f con una serie de parámetros de regresión. Donde la media en la i-ésima observación de la combinación lineal de estos párametros es igual a la i-ésima observación de la variable dependiente.</p>
<p>Por otro lado, el <strong>componente aleatorio</strong> asume que, en la i-ésima observación, la variable dependiente sigue una distribución normal con media y varianza constante. En otras palabras se asume que las respuestas se distribuyen normalmente alrededor de la media con una varianza constante. Para los modelos lineales, la función <span class="math inline">\(f\)</span> es la función identidad, <span class="math inline">\(f(x) = x\)</span>. Para los modelos no lineales, la función <span class="math inline">\(f\)</span> puede ser cualquier función no lineal.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>Un modelo de regresión lineal asume que la respuesta media <span class="math inline">\(\mu_{i}\)</span> para la observación <span class="math inline">\(i\)</span> depende de <span class="math inline">\(p\)</span> variables independientes <span class="math inline">\(x_{1i}\)</span> a <span class="math inline">\(x_{pi}\)</span>, a través de una función <span class="math inline">\(f\)</span> con una serie de parámetros de regresión <span class="math inline">\(\beta_{j}\)</span> (para <span class="math inline">\(j =1,0,...q\)</span>). De tal manera que el <strong>componente sistemático</strong> de una regresión lineal se puede expresar como:</p>
<p><span class="math display">\[E[y_{i}] = \mu_{i} = f(\beta_{0} + \beta_{1}x_{1i} + ... + \beta_{p}x_{pi})\]</span></p>
<p>Mientras que el <strong>componente aleatorio</strong> asume que la variable dependiente <span class="math inline">\(y_{i}\)</span> sigue una distribución normal con media <span class="math inline">\(\mu_{i}\)</span> y varianza constante <span class="math inline">\(\sigma^{2}\)</span>:</p>
<p><span class="math display">\[y_{i} \sim N(\mu_{i}, \sigma^{2})\]</span></p>
</section>
<section id="modelos-lineales-generalizados" class="slide level2 smaller">
<h2>Modelos Lineales Generalizados</h2>
<blockquote>
<p><strong>Teoría</strong></p>
</blockquote>
<aside class="notes">
<p>Ahora bien, en un Modelo Lineal Generalizado, que es una extensión del modelo lineal, el <strong>componente sistemático</strong> asume que la respuesta media para la observación i-ésima depende de p variables independientes, a través de una función g con una serie de parámetros de regresión. Esta función g es llamada <em>link function</em> y es una función monotónica y diferenciable.</p>
<p>Miestras que el <strong>componente aleatorio</strong> asume que la variable dependiente sigue una distribución de una familia específica de distribuciones de probabilidad, llamadas Modelos de Dispersión Exponencial, que incluye distribuciones comunes como la normal, la Poisson, que veremos en un momento, y el binomio como casos especiales.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>En un modelo lineal generalizado (GLM, pos sus siglas en inglés), el <strong>componente sistemático</strong> se puede expresar como:</p>
<p><span class="math display">\[E[y_{i}] = \mu_{i} = g^{(\beta_{0} + \beta_{1}x_{1i} + ... + \beta_{p}x_{pi})}\]</span></p>
<p>o alternativamente:</p>
<p><span class="math display">\[E[y_{i}] = g(\mu_{i}) = \beta_{0} + \beta_{1}x_{1i} + ... + \beta_{p}x_{pi}\]</span></p>
<p>Donde <span class="math inline">\(g()\)</span> es llamada <em>link function</em>. Que es una función monotónica y diferenciable (como una función logarítmica).</p>
<p>El <strong>componente aleatorio</strong> se explica asumiendo que la variable dependiente <span class="math inline">\(y_{i}\)</span> sigue una distribución de una familia específica de distribuciones de probabilidad, llamadas Modelos de Dispersión Exponencial (EDM, por sus siglas en inglés).</p>
</section>
<section id="glms-poisson" class="slide level2 smaller">
<h2>GLMs Poisson</h2>
<blockquote>
<p><strong>Caso de aplicación</strong></p>
</blockquote>
<aside class="notes">
<p>Para empezar hablar de los modelos lineales generalizados Poisson, miremos como ejemplo el conjunto de datos <code>nminer</code> del paquete <code>GLMsData</code>, para entender cómo se ajusta un modelo de regresión Poisson y en qué casos se puede utilizar.</p>
<p>Este conjunto de datos explora la relación entre la abundancia de mineros ruidosos, “un ave nativa australiana pequeña pero peligrosa” y la cantidad de eucaliptos en un bosque. El objetivo de este ejemplo es determinar si la abundancia de mineros ruidosos está relacionada con la cantidad de eucaliptos en el bosque. En la parte izquierda se puede apreciar el conteo de mineros ruidosos en función de la cantidad de eucaliptos en un bosque para las 32 observaciones del conjunto de datos. En la parte derecha se muestra un gráfico de dispersión de los datos, donde se puede observar que la relación entre la cantidad de eucaliptos y la abundancia de mineros ruidosos no parece ser lineal.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>El minero ruidoso es una ave nativa australiana pequeña pero peligrosa. Un estudio del hábitat de estas aves registró su abundancia en un transecto de dos hectareas ubicadas en parches de bosque de eucaliptos en Wimmera, al oeste de Victoria, Australia.</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-align="center">
<div class="cell-output cell-output-stdout">
<pre><code>   Eucs Minerab
1     2       0
2    10       0
3    16       3
4    20       2
5    19       8
6    18       1
7    12       8
8    16       5
9     3       0
10   12       4
11   32      19
12    2       0
13   16       2
14    7       0
15   10       3
16   15       1
17   30       7
18    4       1
19    4       0
20   19       7
21   11       0
22    0       0
23    0       0
24    0       0
25    3       0
26    8       0
27    8       0
28   15       0
29   21       3
30   24       4
31   15       6</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-2-1.png" width="576"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="glms-poisson-1" class="slide level2 smaller">
<h2>GLMs Poisson</h2>
<blockquote>
<p><strong>Caso de aplicación</strong></p>
</blockquote>
<aside class="notes">
<p>Debido a que la respuestas de este ejemplo es una variable de conteo, una <strong>distribución Poisson</strong> puede ser adecuada para modelar la relación entre la cantidad de eucaliptos y la abundancia de mineros ruidosos. La distribución de esta familia de modelos de dispersión exponencial se utiliza para modelar el número de eventos que ocurren en un intervalo de tiempo o espacio fijo.</p>
<p>De otro lado, La relación entre la media y el número de eucaliptos tampoco parece ser lineal. Así que un posible modelo para el componente sistemático estaría dado por una funcición exponencial, la cual garantiza que la media sea mayor a cero, lo que a su vez permite, como lo veremos más adelante, la interpretación de efectos multiplicadores en los parámetros de regresión.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>Debido a que la respuestas son variables de conteo, una <strong>distribución Poisson</strong> con media <span class="math inline">\(\mu_{i}\)</span> para la observación <span class="math inline">\(i\)</span> puede ser adecuada para modelar la relación entre la cantidad de eucaliptos y la abundancia de mineros ruidosos. Cuyo componente aleatorio estaría dado por:</p>
<p><span class="math display">\[y_{i} \sim Poisson(\mu_{i})\]</span></p>
<p>Donde <span class="math inline">\(\mu_{i}&gt;0\)</span></p>
<p>La relación entre <span class="math inline">\(\mu\)</span> y el número de eucaliptos tampoco parece ser lineal. Así que un posible modelo para el componente sistemático sería:</p>
<p><span class="math display">\[E[y_{i}] = \mu_{i} = \exp(\beta_{0} + \beta_{1}x_{i})\]</span></p>
<p>Donde <span class="math inline">\(x_{i}\)</span> es el número de eucaliptos en la ubicación <span class="math inline">\(i\)</span>.</p>
</section>
<section id="glms-poisson-2" class="slide level2 smaller">
<h2>GLMs Poisson</h2>
<blockquote>
<p><strong>Teoría</strong></p>
</blockquote>
<aside class="notes">
<p>Ya hemos dicho que el componente aleatorio de los modelos lineales generalizados de Poisson siguen una distribución de su misma familia y que el componente aleatorio se puede expresar como una función exponencial. Ahora bien, la función de enlace más comunmente utilizada para los modelos lineales generalizados de Poisson es la función logarítmica, la cual garantiza que la media sea mayor a cero. Esto facilita la interpretación de los coeficientes de regresión, ya que representan la razón de cambio en la media por cada unidad de cambio en el predictor correspondiente.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p>La función de enlace más comunmente utilizada para los GMLs de Poisson es la función logarítmica, la cual garantiza que <span class="math inline">\(\mu&gt;0\)</span>. Con esto la forma general de un modelo de regresión Poisson estaría dada por:</p>
<p><span class="math display">\[\begin{cases} &amp; y \sim Poisson(\mu) \hspace{1cm} \text{Componente aleatorio}  \\ &amp; log\mu = \beta_{0} + \beta_{1}x_{1} + ... + \beta_{p}x_{p} \hspace{1cm} \text{Componente sistemático} \end{cases}\]</span></p>
<p>Donde el componente sistemático también se puede expresar como:</p>
<p><span class="math display">\[\mu = \exp(\beta_{0} + \beta_{1}x_{1} + ... + \beta_{p}x_{p})\]</span></p>
<p>o</p>
<p><span class="math display">\[\mu = \exp\beta_{0} \cdot (\exp\beta_{1})^{x_{1}} \cdot ... \cdot (\exp\beta_{p})^{x_{p}}\]</span></p>
</section>
<section id="glms-poisson-3" class="slide level2 smaller">
<h2>GLMs Poisson</h2>
<blockquote>
<p><strong>Teoría</strong></p>
</blockquote>
<aside class="notes">
<p>En cuanto a la forma de las variables dependientes e independientes en los modelos de regresión Poisson, es importante tener en cuenta que la variable dependiente debe ser una variable de conteo, mientras que las variables independientes pueden ser cualitativas, cuantitativas o una mezcla de ambas.</p>
<p>Cuando todas las variables independientes son cualitativas, es apropiado resumir los datos en una tabla de contingencia. En este caso, el modelo se denomina modelo de <strong>log-odds lineal</strong> o <strong>modelo de log-lineal</strong>, no modelo logarítmico lineal. La distinción radica en que el modelo relaciona el logaritmo de la razón de odds con las variables predictoras, no directamente las variables en sí.</p>
<p>Si alguna variable independiente es cuantitativa, el modelo sigue denominándose <strong>modelo de regresión de Poisson</strong>. La presencia de variables cuantitativas no altera la naturaleza fundamental del modelo.</p>
<p>Cuando hay una mezcla de variables cualitativas y cuantitativas como variables independientes, se puede utilizar un <strong>modelo lineal generalizado de Poisson (GLM-Poisson)</strong>. Este modelo amplía el modelo de regresión de Poisson básico para acomodar diferentes tipos de variables predictoras.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<ul>
<li><p>Cuando todas las variables independientes son cualitativas, es apropiado resumir los datos en una tabla de contingencia. En este caso, el modelo se denomina modelo de <strong>log-odds lineal</strong> o <strong>modelo de log-lineal</strong>, no modelo logarítmico lineal.</p></li>
<li><p>Si alguna variable independiente es cuantitativa, el modelo sigue denominándose <strong>modelo de regresión de Poisson</strong>.</p></li>
<li><p>Cuando hay una mezcla de variables cualitativas y cuantitativas como variables independientes, se puede utilizar un <strong>modelo lineal generalizado de Poisson (GLM-Poisson)</strong>.</p></li>
</ul>
</section>
<section id="regresión-poisson" class="slide level2 smaller">
<h2>Regresión Poisson</h2>
<blockquote>
<p><strong>Caso de aplicación</strong></p>
</blockquote>
<aside class="notes">
<p>Sigamos explorando el conjunto de datos <code>nminer</code> para ajustar un modelo de regresión Poisson a los datos y evaluar la relación entre la abundancia de mineros ruidosos y la cantidad de eucaliptos en un bosque. En este caso, se ajustará un modelo de regresión Poisson utilizando la función <code>glm()</code> del paquete <code>stats</code>. Esta función ajusta un modelo lineal generalizado a los datos y permite especificar la distribución de la familia de la regresión, en este caso, la distribución de Poisson.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(GLMsData)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">data</span>(nminer)</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a>nm.m1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Minerab <span class="sc">~</span> Eucs, <span class="at">data=</span>nminer,</span>
<span id="cb2-5"><a href="#cb2-5"></a>             <span class="at">family=</span>poisson)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="fu">summary</span>(nm.m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = Minerab ~ Eucs, family = poisson, data = nminer)

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) -0.87621    0.28279  -3.098  0.00195 ** 
Eucs         0.11398    0.01243   9.169  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 150.545  on 30  degrees of freedom
Residual deviance:  63.318  on 29  degrees of freedom
AIC: 121.47

Number of Fisher Scoring iterations: 5</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Ajuste del modelo</strong></p>
<ul>
<li><code>glm()</code>: Ajusta un modelo lineal generalizado.</li>
<li><code>Minerab ~ Eucs</code>: Fórmula de la regresión.</li>
<li><code>data=nminer</code>: Conjunto de datos.</li>
<li><code>family=poisson</code>: Especifica la distribución de la familia de la regresión Poisson.</li>
</ul>
</div>
</div>
</section>
<section id="regresión-poisson-1" class="slide level2 smaller">
<h2>Regresión Poisson</h2>
<blockquote>
<p><strong>Caso de aplicación</strong></p>
</blockquote>
<aside class="notes">
<p>En cuanto a los coeficientes del modelo, se puede observar que el intercepto y la pendiente son significativos, con un nivel de confianza del 95%. En este caso la interpertación de estos coefientes estará dada de la siguiente manera:</p>
<ul>
<li><p><strong>Intercepto:</strong> Representa la media esperada del conteo de mineros ruidosos cuando la variable independiente (<code>Eucs</code>) es igual a cero. En este caso, el intercepto es de aproximadamente -0.87, lo cual no tiene una interpretación directa en el conteo de mineros ruidosos.</p></li>
<li><p><strong>Pendiente:</strong> Representa el cambio en la media del conteo de mineros ruidosos por cada unidad de cambio en la variable independiente (<code>Eucs</code>). En este caso, la pendiente es de aproximadamente 0.11, lo cual indica que por cada unidad adicional de eucaliptos, se espera un incremento del 11% en el conteo de mineros ruidosos.</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">library</span>(GLMsData)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">data</span>(nminer)</span>
<span id="cb4-3"><a href="#cb4-3"></a></span>
<span id="cb4-4"><a href="#cb4-4"></a>nm.m1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Minerab <span class="sc">~</span> Eucs, <span class="at">data=</span>nminer,</span>
<span id="cb4-5"><a href="#cb4-5"></a>             <span class="at">family=</span>poisson)</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="fu">summary</span>(nm.m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = Minerab ~ Eucs, family = poisson, data = nminer)

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept) -0.87621    0.28279  -3.098  0.00195 ** 
Eucs         0.11398    0.01243   9.169  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 150.545  on 30  degrees of freedom
Residual deviance:  63.318  on 29  degrees of freedom
AIC: 121.47

Number of Fisher Scoring iterations: 5</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Coeficientes</strong></p>
<ul>
<li><strong>Intercepto:</strong> Representa la media esperada del conteo de mineros ruidosos (<code>Minerab</code>) cuando la variable independiente (<code>Eucs</code>) es igual a cero.</li>
<li><strong>Pendiente:</strong> Representa el cambio en la media del conteo de mineros ruidosos (<code>Minerab</code>) por cada unidad de cambio en la variable independiente (<code>Eucs</code>).</li>
</ul>
</div>
</div>
</section>
<section id="regresión-poisson-2" class="slide level2 smaller">
<h2>Regresión Poisson</h2>
<blockquote>
<p><strong>Caso de aplicación</strong></p>
</blockquote>
<aside class="notes">
<p>En cuanto a la bondad de ajuste del modelo, se puede observar que el valor de la prueba de bondad de ajuste es significativo, lo cual indica que el modelo ajustado es significativamente diferente del modelo nulo. Lo cual indica que la cantidad de eucaliptos es un predictor significativo de la abundancia de mineros ruidosos en el bosque. Para evaluar la bondad de ajuste del modelo, se puede utilizar la función <code>anova()</code> con el argumento <code>test="Chisq"</code>, donde chisq es el estadístico de prueba de la bondad de ajuste.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">library</span>(GLMsData)</span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">data</span>(nminer)</span>
<span id="cb6-3"><a href="#cb6-3"></a></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">anova</span>(nm.m1, <span class="at">test=</span><span class="st">"Chisq"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Deviance Table

Model: poisson, link: log

Response: Minerab

Terms added sequentially (first to last)

     Df Deviance Resid. Df Resid. Dev  Pr(&gt;Chi)    
NULL                    30    150.545              
Eucs  1   87.227        29     63.318 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Bondad de ajuste</strong></p>
<p>El argumento <code>test="Chisq"</code> en la función <code>anova()</code> se utiliza para realizar una prueba de bondad de ajuste del modelo. En este caso, el valor de la prueba de bondad es significativo.</p>
</div>
</div>
</section>
<section id="regresión-poisson-3" class="slide level2">
<h2>Regresión Poisson</h2>
<aside class="notes">
<p>Ahora bien, es importante evaluar el modelo ajustado a través de un diagnóstico gráfico para verificar la bondad de ajuste del modelo y la presencia de observaciones influyentes. En este caso, se utilizarán gráficos de diagnóstico para evaluar la elección de la distribución de Poisson, la relevancia de las observaciones en el modelo y la influencia de las observaciones predichas de su propio valor ajustado.</p>
<p>La gráfica Q-Q se suele utilizar para determinar si la elección de la distribución de Poisson es apropiada para los datos. En este caso, la gráfica muestra que los residuos de los cuantiles siguen una distribución aproximadamente normal, lo cual indica que la elección de la distribución de Poisson es apropiada para los datos.</p>
<p>De otro lado, la gráfica de residuos frente a los valores ajustados muestra que los residuos no tienen una relación clara con los valores ajustados, lo cual confirma, lo ya dicho acerca de la pertinencia de la distribución del modelo.</p>
<p>La gráfica de la distancia de Cook se utiliza para identificar observaciones influyentes en el modelo. En este caso, la gráfica muestra que la observación 17 (denotada con un triangulo relleno) tiene una influencia significativa en el modelo. Por lo tanto, esta observación puede tener un impacto significativo en los resultados del mismo.</p>
<p>La gráfica de <em>hat values</em> (o valores sombrero) se utiliza para identificar la influencia que tiene cada observación en la predicción de su propio valor ajustado. En este caso, la observación 11 (denotada con un cuadrado relleno) tiene un valor sombrero significativamente mayor que las demás observaciones, lo cual indica que esta observación tiene una influencia significativa en la predicción de su propio valor ajustado.</p>
<p>En resumen la observación 11 (denotada con un Cuadrado relleno) tiene un valor sombrero significativamente mayor que las demás observaciones, pero su residuo es pequeño y, por lo tanto, no es influyente. La observación 7 (denotada con un circulo relleno) tiene un residuo grande, pero su valor sombrero es pequeño y, por lo tanto, no es influyente. Mientras que la observación 17 (denotada con un Triangulo relleno) tiene un valor sombrero y un residuo razonablemente grande, por lo tanto es influyente.</p>
<p>Ahora observemos que puede pasar si ajustamos un modelo de regresión Poisson excluyendo esta observación influyente.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

<img data-src="slides_files/figure-revealjs/unnamed-chunk-6-1.png" width="768" class="r-stretch quarto-figure-center"></section>
<section id="regresión-poisson-4" class="slide level2 smaller">
<h2>Regresión Poisson</h2>
<aside class="notes">
<p>Los resultados en el ajuste del modelo exluyendo la observación (denotada en la gráfica con un triangulo relleno) muestran que el intercepto y la pendiente siguen siendo significativos, con un nivel de confianza del 95% y una bondad de ajuste menor, en comparación con el modelo original, en los terminos de la desviación a través de la métrica <em>deviance</em>. En este caso, la observación 17 tiene una influencia significativa en el modelo, lo cual se observa a través de la línea de valores predichos (denotada por la linea de regresión continua) en la gráfica de dispersión de los datos. Esto demuestra que muchas de los valores que podemos considerar como atípicos, pueden tener un impacto significativo en el modelo ajustado.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<blockquote>
<p><strong>Caso de aplicación</strong></p>
</blockquote>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-7-1.png" width="614"></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a> nm.m2 <span class="ot">&lt;-</span> <span class="fu">glm</span>(Minerab <span class="sc">~</span> Eucs,</span>
<span id="cb8-2"><a href="#cb8-2"></a>              <span class="at">family=</span>poisson, <span class="at">data=</span>nminer,</span>
<span id="cb8-3"><a href="#cb8-3"></a>              <span class="at">subset=</span>(<span class="sc">-</span>maxinfl))</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="fu">summary</span>(nm.m2)<span class="sc">$</span>coefficients</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Estimate Std. Error   z value     Pr(&gt;|z|)
(Intercept) -1.0112791 0.29172863 -3.466506 5.272699e-04
Eucs         0.1247156 0.01331536  9.366299 7.512065e-21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">summary</span>(nm.m1)<span class="sc">$</span>coefficients</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>              Estimate Std. Error   z value     Pr(&gt;|z|)
(Intercept) -0.8762114 0.28279293 -3.098421 1.945551e-03
Eucs         0.1139813 0.01243104  9.169092 4.770189e-20</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">deviance</span>(nm.m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59.14028</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">deviance</span>(nm.m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 63.31798</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="conclusiones" class="slide level2 smaller">
<h2>Conclusiones</h2>
<aside class="notes">
<p>En resumen, los modelos de regresión Poisson son una herramienta útil para modelar variables de conteo. En este caso, se utilizó un modelo de regresión Poisson para modelar la relación entre la abundancia de mineros ruidosos y la cantidad de eucaliptos en un bosque. El modelo ajustado mostró una buena bondad de ajuste y los coeficientes de regresión fueron significativos. Esto indica que existe una relación positiva entre la abundancia de mineros ruidosos y la cantidad de eucaliptos.</p>
<p>Es importante realizar un diagnóstico gráfico del modelo para evaluar la bondad de ajuste y la presencia de observaciones influyentes. En este caso, se identificó una observación que tenía un valor sombrero y un residuo razonablemente grande, por lo que se reajustó el modelo excluyendo esta observación.</p>
<p>La interpretación de los coeficientes de regresión en los modelos de regresión Poisson debe hacerse con precaución. El intercepto no tiene una interpretación directa en el conteo de mineros ruidosos, mientras que la pendiente representa el cambio en la media del conteo de mineros ruidosos por cada unidad de cambio en la variable independiente (Eucs).</p>
<p>Los modelos de regresión Poisson se pueden utilizar para hacer predicciones sobre el valor de la variable de respuesta para nuevos valores de la variable independiente. En este caso, se utilizaron los modelos ajustados para predecir la abundancia de mineros ruidosos en nuevos transectos con diferentes cantidades de eucaliptos.</p>
<p>Finalmente, es importante tener en cuenta las limitaciones de los modelos de regresión Poisson al interpretarlos y utilizarlos para hacer predicciones. Es importante verificar la validez de la suposición de la distribución de Poisson antes de ajustar un modelo de regresión de este tipo.</p>
<p>Eso es todo, muchas gracias.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><br></p>
<ul>
<li><p>Los modelos de regresión Poisson son una extensión de los modelos lineales generalizados que se utilizan para modelar variables de conteo.</p></li>
<li><p>La interpretación de los coeficientes de regresión en los modelos de regresión Poisson debe hacerse con precaución.</p></li>
<li><p>Es importante realizar un diagnóstico gráfico del modelo para evaluar la bondad de ajuste y la presencia de observaciones influyentes.</p></li>
<li><p>Los modelos de regresión Poisson se pueden utilizar para hacer predicciones sobre el valor de la variable de respuesta para nuevos valores de la variable independiente.</p></li>
</ul>
</section>
<section id="referencias" class="slide level2 smaller">
<h2>Referencias</h2>
<p><br></p>
<ul>
<li>Dunn, P. K., &amp; Smyth, G. K. (2018). Generalized linear models with examples in R. Springer.</li>
</ul>

<img src="images/macc.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p>Análisis Avanzado de Datos</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="slides_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="slides_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="slides_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="slides_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="slides_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="slides_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="slides_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="slides_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>